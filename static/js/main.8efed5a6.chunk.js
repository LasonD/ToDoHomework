(this["webpackJsonpreact-todo-app"]=this["webpackJsonpreact-todo-app"]||[]).push([[0],{287:function(e,t,n){},295:function(e,t,n){"use strict";n.r(t);var c=n(8),a=n(0),o=n(28),r=n.n(o),s=n(302),i=n(61),d=n(39),l=n(102),u=n(128),m=n(73),p=n(38),j=n.n(p),b=n(60),f=n(70),h=n(299),O=n(297),x=n(301),v=n(150),k=n(129),y=n(132),N=function(e){var t=e.item,n=e.onCheck,a=e.onRemove,o=function(){var e,n,c=t.content,a=c.match(/\s\|\s\d{2}\.\d{2}\.\d{4}\s-\s\d{2}:\d{2}/);if(a&&a.length>0){var o=a[a.length-1];n=o.substr(3),e=c.replace(o,"")}else n="N/A",e=c;return{title:e,time:n}};return Object(c.jsxs)("li",{className:"todo-item"+t.completed===!0?" completed":"",children:[Object(c.jsx)("h3",{className:!0===t.completed?"completed":"",children:o().title}),Object(c.jsxs)("div",{className:"todo-item-content",children:[Object(c.jsx)(x.a,{className:t.completed?"completed":"",checked:t.completed,onChange:function(){n&&n(t.id)},children:t.description}),Object(c.jsx)(v.a,{className:"remove-btn",type:"danger",onClick:function(e){e.preventDefault(),a&&a(t.id)},children:Object(c.jsx)(k.a,{icon:y.a})})]}),Object(c.jsx)("time",{className:"time-of-creation",children:o().time}),Object(c.jsx)(O.a,{})]},t.id)},g=n(298),w=n(300),C=function(e){var t=e.onSubmit,n=e.onRemoveCompleted,a=g.a.useForm(),o=Object(f.a)(a,1)[0];return Object(c.jsxs)(g.a,{className:"todo-form",form:o,layout:"column",onFinish:function(e){t&&t({title:e.title,description:e.description}),o.resetFields()},children:[Object(c.jsx)(g.a.Item,{name:"title",className:"todo-form-input",rules:[{required:!0,message:"Todo title cannot be empty!"},{pattern:/([A-Z]|[\u0410-\u042f]).*/,message:"Todo title should start with a capital letter!"},{min:3,message:"Todo title should be longer than 3 characters!"}],children:Object(c.jsx)(w.a,{placeholder:"Todo title"})}),Object(c.jsx)(g.a.Item,{name:"description",className:"todo-form-input",rules:[{required:!0,message:"Todo description cannot be empty!"},{min:3,message:"Todo description should be longer than 3 characters!"}],children:Object(c.jsx)(w.a,{placeholder:"Todo description"})}),Object(c.jsx)(g.a.Item,{className:"todo-form-actions",children:Object(c.jsxs)("div",{className:"actions-container",children:[Object(c.jsx)(v.a,{className:"todo-form-action",htmlType:"submit",type:"primary",children:"Add"}),Object(c.jsx)(v.a,{className:"todo-form-action",htmlType:"submit",type:"primary",onClick:n,children:"Remove completed"})]})})]})},T=n(72),I=n.n(T),R=n(145),A=n.n(R),D=(n(58),{headers:{Authorization:"Bearer ".concat("3f1b2e94bd0c9e8b754aeefd1200d09583d51951")}}),F=function(){var e=Object(a.useState)([{id:1,content:"some",completed:!1},{id:2,content:"another one",completed:!1}]),t=Object(f.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(10),s=Object(f.a)(r,2),i=s[0],d=s[1];Object(a.useEffect)(Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("https://api.todoist.com/rest/v1/tasks",D);case 2:t=e.sent,o(t.data);case 4:case"end":return e.stop()}}),e)}))),[]);var p=function(){var e=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===(c=n.findIndex((function(e){return t===e.id})))){e.next=6;break}return e.next=4,I.a.delete("https://api.todoist.com/rest/v1/tasks/".concat(t),D);case 4:n.splice(c,1),o(Object(m.a)(n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(j.a.mark((function e(t){var c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:-1!==(c=n.findIndex((function(e){return e.id===t})))&&((a=n[c]).completed=!a.completed,n.splice(c,1,a),o(Object(m.a)(n)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(j.a.mark((function e(){var t,c,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.filter((function(e){return!0===e.completed})),c=Object(u.a)(t),e.prev=2,c.s();case 4:if((a=c.n()).done){e.next=12;break}return r=a.value,e.next=8,I.a.post("https://api.todoist.com/rest/v1/tasks/".concat(r.id,"/close"),"",D);case 8:n.splice(n.indexOf(r),1),o(Object(m.a)(n));case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),c.e(e.t0);case 17:return e.prev=17,c.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(b.a)(j.a.mark((function e(t){var c,a,r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.title+" | "+A()(Date.now()).format("DD.MM.yyyy - HH:mm"),a={content:c,description:t.description},e.next=4,I.a.post("https://api.todoist.com/rest/v1/tasks",a,D);case 4:r=e.sent,s=r.data,o([].concat(Object(m.a)(n),[Object(l.a)(Object(l.a)({},a),{},{id:s.id})])),d(i+1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)(h.a,{id:"todoCard",title:"My todos",extra:"Count: "+n.length,className:"todo-card",children:[Object(c.jsx)(C,{onSubmit:k,onRemoveCompleted:v}),Object(c.jsx)(O.a,{}),function(e){return Object(c.jsx)("ul",{className:"todo-list",children:e.map((function(e){return Object(c.jsx)(N,{item:e,onRemove:p,onCheck:x},e.id)}))})}(n)]})},S=(n(286),n(287),s.a.Header),H=s.a.Footer,M=s.a.Content,q=function(){return Object(c.jsxs)(s.a,{children:[Object(c.jsx)(S,{}),Object(c.jsx)(M,{children:Object(c.jsx)(i.a,{children:Object(c.jsx)(d.a,{span:12,offset:6,className:"todo",children:Object(c.jsx)(F,{})})})}),Object(c.jsx)(H,{})]})};r.a.render(Object(c.jsx)(q,{}),document.getElementById("root"))}},[[295,1,2]]]);
//# sourceMappingURL=main.8efed5a6.chunk.js.map