{"version":3,"sources":["components/TailwindComponents/TWDivider.jsx","components/TailwindComponents/TWDeleteButton.jsx","components/TailwindComponents/TWCheckbox.jsx","components/ToDoItem.jsx","components/TailwindComponents/TWButton.jsx","components/ToDoForm.jsx","components/TailwindComponents/TWCard.jsx","components/ToDo.jsx","index.jsx"],"names":["TWDivider","class","TWDeleteButton","props","type","onClick","icon","faTrash","TWCheckbox","checked","onChange","value","id","htmlFor","className","children","ToDoItem","item","onCheck","onRemove","detatchTitleAndTime","title","time","raw","content","match","length","matchedTimePart","substr","replace","completed","description","e","preventDefault","TWButton","ToDoForm","onSubmit","onRemoveCompleted","layout","titleInput","target","descriptionInput","name","placeholder","required","htmlType","TWCard","extra","config","headers","Authorization","ToDo","useState","todos","setTodos","idCount","setIdCount","useEffect","a","axios","get","result","data","index","findIndex","todo","delete","splice","filter","post","indexOf","titleWithCreationDate","moment","Date","now","format","map","renderTodoItems","Footer","Layout","Header","Content","App","span","offset","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c73444be.chunk.js","sourcesContent":["export const TWDivider = () => {\r\n  return (\r\n    <hr class=\"border-0 bg-gray-300 text-gray-500 h-px m-3 my-10\"></hr>\r\n  );\r\n};\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\r\n\r\nexport const TWDeleteButton = (props) => {\r\n    return (\r\n        <button class=\" h-14 w-14 px-5 m-2 text-red-100 transition-colors duration-150 bg-red-400 rounded-lg focus:shadow-outline hover:bg-red-500\" type=\"danger\" onClick={props.onClick}><FontAwesomeIcon icon={faTrash}></FontAwesomeIcon></button>\r\n    );\r\n}","export const TWCheckbox = (props) => {\r\n\r\n\r\n  return (\r\n    <div class=\"form-check\">\r\n      <input\r\n        class=\"form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer\"\r\n        type=\"checkbox\"\r\n        checked={props.checked}\r\n        onChange={props.onChange}\r\n        value=\"\"\r\n        id=\"flexCheckDefault\"\r\n      ></input>\r\n      <label\r\n        class=\"form-check-label inline-block text-gray-800 mx-2\"\r\n        htmlFor=\"flexCheckDefault\"\r\n      >\r\n          <p className={props.checked ? \"completed\" : \"\"}>\r\n            {props.children}\r\n          </p>\r\n      </label>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\nimport { TWDivider } from './TailwindComponents/TWDivider';\r\nimport { TWDeleteButton } from './TailwindComponents/TWDeleteButton';\r\nimport { TWCheckbox } from './TailwindComponents/TWCheckbox';\r\n\r\nexport const ToDoItem = (props) => {\r\n  const { item, onCheck, onRemove } = props;\r\n  const onRemoveItem = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (onRemove) {\r\n      onRemove(item.id);\r\n    }\r\n  }\r\n\r\n  const onCheckItem = () => {\r\n    if (onCheck) {\r\n      onCheck(item.id);\r\n    }\r\n  }\r\n\r\n  /* Since there is no data element corresponding the date and time of creation\r\n  in the API's model, the solution is to store it inside the content along with the title and \r\n  then parse appropriately while rendering */\r\n  const detatchTitleAndTime = () => {\r\n    const timeRegex = /\\s\\|\\s\\d{2}\\.\\d{2}\\.\\d{4}\\s-\\s\\d{2}:\\d{2}/;\r\n    const raw = item.content;\r\n    const match = raw.match(timeRegex);\r\n\r\n    let title, time;\r\n\r\n    if (match && match.length > 0) {\r\n      const matchedTimePart = match[match.length - 1];\r\n      time = matchedTimePart.substr(3);\r\n      title = raw.replace(matchedTimePart, '');\r\n    } else {\r\n      time = \"N/A\";\r\n      title = raw;\r\n    }\r\n\r\n    return { title, time };\r\n  }\r\n\r\n  return (\r\n    <li className={\"block justify-between items-center\" + item.completed === true ? \" completed\" : \"\"} key={item.id}>\r\n      <div className={item.completed === true ? \"container-completed\" : \"\"}>\r\n        <h3 className={(item.completed === true ? \"completed\" : \"\") + \" m-4 text-gray-800 text-lg\"}>{detatchTitleAndTime().title}</h3>\r\n        <div className=\"flex justify-between m-4\">\r\n          <TWCheckbox className={item.completed ? \"completed\" : \"\"}\r\n            checked={item.completed}\r\n            onChange={onCheckItem}\r\n          >{item.description}</TWCheckbox>\r\n          <TWDeleteButton onClick={onRemoveItem}></TWDeleteButton>\r\n        </div>\r\n        <time className=\"font-mono font-light text-gray-300 float-right\">{detatchTitleAndTime().time}</time>\r\n        <TWDivider />\r\n      </div>\r\n    </li>\r\n  )\r\n}","\r\n\r\nexport const TWButton = (props) => {\r\n  return (\r\n    <button class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\" onClick={props.onClick}>\r\n      {props.children}\r\n    </button>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\nimport { TWButton } from './TailwindComponents/TWButton';\r\n\r\nexport const ToDoForm = (props) => {\r\n  const { onSubmit, onRemoveCompleted } = props;\r\n\r\n  const titleRules = [\r\n    {\r\n      required: true,\r\n      message: 'Todo title cannot be empty!',\r\n    },\r\n    {\r\n      pattern: /([A-Z]|[А-Я]).*/,\r\n      message: 'Todo title should start with a capital letter!',\r\n    },\r\n    {\r\n      min: 3,\r\n      message: 'Todo title should be longer than 3 characters!',\r\n    },\r\n  ];\r\n\r\n  const descriptionRules = [\r\n    {\r\n      required: true,\r\n      message: 'Todo description cannot be empty!',\r\n    },\r\n    {\r\n      min: 3,\r\n      message: 'Todo description should be longer than 3 characters!',\r\n    },\r\n  ];\r\n\r\n  const onFinish = (e) => {\r\n    const titleInput = e.target.title;\r\n    const descriptionInput = e.target.description;\r\n\r\n    if (onSubmit) {\r\n      onSubmit({title: titleInput.value, description: descriptionInput.value});\r\n    }\r\n\r\n    titleInput.value = null;\r\n    descriptionInput.value = null;\r\n  }\r\n\r\n  return (\r\n    <form className=\"todo-form\" layout={'column'} onSubmit={onFinish}>\r\n      <div className=\"mb-6\">\r\n        <input type=\"text\" id=\"title\" name=\"title\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\" placeholder=\"Todo title\" required></input>\r\n      </div>\r\n      <div className=\"mb-6\">\r\n        <input type=\"text\" id=\"description\" name=\"description\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\" placeholder=\"Todo description\" required></input>\r\n      </div>\r\n      <div className=\"mb-6 flex justify-between\">\r\n        <TWButton htmlType=\"submit\" type=\"primary\">Add</TWButton>\r\n        <TWButton htmlType=\"submit\" type=\"primary\" onClick={onRemoveCompleted}>Remove completed</TWButton>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n","export const TWCard = (props) => {\r\n  const { title, extra } = props;\r\n\r\n  return (\r\n    <div class=\"p-10 container max-w-2xl\">\r\n      <div class=\"rounded shadow-lg\">\r\n        <div class=\"px-6 py-4\">\r\n          <div className=\"flex justify-between\">\r\n            <div class=\"font-bold text-xl mb-2\">{title}</div>\r\n            <div class=\"font-light text-sm \">{extra}</div>\r\n          </div>\r\n          <div class=\"text-gray-700 text-base\">{props.children}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Card } from \"antd\";\r\nimport { ToDoItem } from \"./ToDoItem\";\r\nimport { ToDoForm } from \"./ToDoForm\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\n\r\nimport { TWDivider } from \"./TailwindComponents/TWDivider\";\r\nimport { TWCard } from \"./TailwindComponents/TWCard\";\r\n\r\nconst token = \"3f1b2e94bd0c9e8b754aeefd1200d09583d51951\";\r\nconst config = {\r\n  headers: {\r\n    Authorization: `Bearer ${token}`,\r\n  },\r\n};\r\n\r\nexport const ToDo = () => {\r\n  const [todos, setTodos] = useState([\r\n    { id: 1, content: \"some\", completed: false },\r\n    { id: 2, content: \"another one\", completed: false },\r\n  ]);\r\n  const [idCount, setIdCount] = useState(10);\r\n\r\n  useEffect(async () => {\r\n    const result = await axios.get(\r\n      \"https://api.todoist.com/rest/v1/tasks\",\r\n      config\r\n    );\r\n    setTodos(result.data);\r\n  }, []);\r\n\r\n  const onRemove = async (id) => {\r\n    const index = todos.findIndex((todo) => id === todo.id);\r\n\r\n    if (index !== -1) {\r\n      await axios.delete(`https://api.todoist.com/rest/v1/tasks/${id}`, config);\r\n      todos.splice(index, 1);\r\n      setTodos([...todos]);\r\n    }\r\n  };\r\n\r\n  const onCheck = async (id) => {\r\n    const index = todos.findIndex((todo) => todo.id === id);\r\n\r\n    if (index !== -1) {\r\n      const todo = todos[index];\r\n\r\n      todo.completed = !todo.completed;\r\n      todos.splice(index, 1, todo);\r\n      setTodos([...todos]);\r\n    }\r\n  };\r\n\r\n  const onRemoveCompleted = async () => {\r\n    let completed = todos.filter((todo) => todo.completed === true);\r\n\r\n    for (let todo of completed) {\r\n      await axios.post(\r\n        `https://api.todoist.com/rest/v1/tasks/${todo.id}/close`,\r\n        \"\",\r\n        config\r\n      );\r\n      todos.splice(todos.indexOf(todo), 1);\r\n      setTodos([...todos]);\r\n    }\r\n  };\r\n\r\n  const onSubmit = async (item) => {\r\n    let titleWithCreationDate =\r\n      item.title + \" | \" + moment(Date.now()).format(\"DD.MM.yyyy - HH:mm\");\r\n    const todo = {\r\n      content: titleWithCreationDate,\r\n      description: item.description,\r\n    };\r\n    const { data } = await axios.post(\r\n      \"https://api.todoist.com/rest/v1/tasks\",\r\n      todo,\r\n      config\r\n    );\r\n\r\n    setTodos([...todos, { ...todo, id: data.id }]);\r\n    setIdCount(idCount + 1);\r\n  };\r\n\r\n  const renderTodoItems = (todos) => {\r\n    return (\r\n      <ul className=\"todo-list\">\r\n        {todos.map((todo) => (\r\n          <ToDoItem\r\n            key={todo.id}\r\n            item={todo}\r\n            onRemove={onRemove}\r\n            onCheck={onCheck}\r\n          />\r\n        ))}\r\n      </ul>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center h-screen\">\r\n      <TWCard className=\"\" id=\"todoCard\" title={\"My todos\"} extra={\"Count: \" + todos.length}>\r\n        <ToDoForm onSubmit={onSubmit} onRemoveCompleted={onRemoveCompleted} />\r\n        <TWDivider />\r\n        {renderTodoItems(todos)}\r\n      </TWCard>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Layout, Row, Col } from 'antd';\r\n\r\nimport { ToDo } from './components/ToDo';\r\nimport './index.css';\r\n\r\nconst { Header, Footer, Content } = Layout;\r\n\r\n\r\nconst App = () => {\r\n  return (\r\n    <Layout>\r\n      <Content>\r\n        <Row>\r\n          <Col span={12} offset={6} className=\"todo\">\r\n            <ToDo/>\r\n          </Col>\r\n        </Row>\r\n      </Content>\r\n      <Footer></Footer>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}