(this["webpackJsonpreact-todo-app"]=this["webpackJsonpreact-todo-app"]||[]).push([[0],{108:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r(0),a=r(21),o=r.n(a),s=r(111),i=r(30),d=r(45),l=r(13),u=r(6),b=r.n(u),p=r(10),m=r(17),j=function(){return Object(n.jsx)("hr",{class:"border-0 bg-gray-300 text-gray-500 h-px m-3 my-3"})},f=r(46),x=r(47),h=function(e){return Object(n.jsx)("button",{class:" h-14 w-14 px-5 m-2 text-red-100 transition-colors duration-150 bg-red-400 rounded-lg focus:shadow-outline hover:bg-red-500",type:"danger",onClick:e.onClick,children:Object(n.jsx)(f.a,{icon:x.a})})},g=function(e){var t=e.onChange,r=e.checked,a=Object(c.useState)(r),o=Object(m.a)(a,2),s=o[0],i=o[1];return Object(n.jsxs)("div",{class:"form-check",children:[Object(n.jsx)("input",{class:"form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer",type:"checkbox",onChange:function(){i(!s),t&&t(s)},checked:s,id:"flexCheckDefault"}),Object(n.jsx)("label",{class:"form-check-label inline-block text-gray-800 mx-2",htmlFor:"flexCheckDefault",children:Object(n.jsx)("p",{className:s?"completed":"",children:e.children})})]})},y=r(48),v=r(22),O=r.n(v),k=(r(68),function(e){return Object(n.jsx)("button",{class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:e.onClick,children:e.children})}),w=function(e){var t=e.item,r=e.onAmendItem;return Object(n.jsx)(y.a,{trigger:Object(n.jsx)("button",{class:"bg-white hover:bg-gray-100 text-gray-400 hover:text-gray-500 font-semibold py-2 px-4 rounded shadow",children:"Amend"}),position:"right center",children:Object(n.jsxs)("form",{className:"todo-form",onSubmit:function(e){e.preventDefault();var n=e.target.title,c=e.target.description;if(r){var a={content:n.value+" | "+O()(Date.now()).format("DD.MM.yyyy - HH:mm"),description:c.value};r(t.id,a)}n.value=null,c.value=null},children:[Object(n.jsx)("div",{className:"mb-6 flex justify-center text-gray-400",children:Object(n.jsx)("p",{children:"Amend your Todo item"})}),Object(n.jsx)("div",{className:"mb-6",children:Object(n.jsx)("input",{type:"text",id:"title",name:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"New Todo title",defaultValue:t.title,required:!0})}),Object(n.jsx)("div",{className:"mb-6",children:Object(n.jsx)("input",{type:"text",id:"description",name:"description",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"New Todo description",defaultValue:t.description,required:!0})}),Object(n.jsx)("div",{className:"mb-6 flex justify-center",children:Object(n.jsx)(k,{htmlType:"submit",type:"primary",children:"Amend"})})]})})},N=function(e){var t=e.item,r=e.onCheck,c=e.onRemove,a=e.onAmend,o=function(){var e,r,n=t.content,c=n.match(/\s\|\s\d{2}\.\d{2}\.\d{4}\s-\s\d{2}:\d{2}/);if(c&&c.length>0){var a=c[c.length-1];r=a.substr(3),e=n.replace(a,"")}else r="N/A",e=n;return{title:e,time:r}};return Object(n.jsx)("li",{className:"block justify-between items-center"+t.completed===!0?" completed":"",children:Object(n.jsxs)("div",{className:!0===t.completed?"container-completed":"",children:[Object(n.jsx)("h3",{className:(!0===t.completed?"completed":"")+" m-4 text-gray-800 text-lg",children:o().title}),Object(n.jsxs)("div",{className:"flex justify-between m-4",children:[Object(n.jsx)(g,{className:t.completed?"completed":"",checked:t.completed,onChange:r,children:t.description}),Object(n.jsx)(h,{onClick:function(e){e.preventDefault(),c&&c(t.id)}})]}),Object(n.jsxs)("div",{className:"flex justify-between m-4",children:[Object(n.jsx)(w,{item:{id:t.id,title:o().title,description:t.description},onAmendItem:a}),Object(n.jsx)("time",{className:"font-mono font-light text-gray-300 mt-auto",children:o().time})]}),Object(n.jsx)(j,{})]})},t.id)},C=function(e){var t=e.onSubmit,r=e.onRemoveCompleted;return Object(n.jsxs)("form",{className:"todo-form",layout:"column",onSubmit:function(e){var r=e.target.title,n=e.target.description;t&&t({title:r.value,description:n.value}),r.value=null,n.value=null},children:[Object(n.jsx)("div",{className:"mb-6",children:Object(n.jsx)("input",{type:"text",id:"title",name:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Todo title",required:!0})}),Object(n.jsx)("div",{className:"mb-6",children:Object(n.jsx)("input",{type:"text",id:"description",name:"description",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Todo description",required:!0})}),Object(n.jsxs)("div",{className:"mb-6 flex justify-between",children:[Object(n.jsx)(k,{htmlType:"submit",type:"primary",children:"Add"}),Object(n.jsx)(k,{htmlType:"submit",type:"primary",onClick:r,children:"Remove completed"})]})]})},A=r(12),D=r.n(A),T=function(e){var t=e.title,r=e.extra;return Object(n.jsx)("div",{class:" p-2",children:Object(n.jsx)("div",{class:"rounded shadow-lg w-full",children:Object(n.jsxs)("div",{class:"px-6 py-4",children:[Object(n.jsxs)("div",{className:"flex justify-between",children:[Object(n.jsx)("div",{class:"font-bold text-xl mb-2",children:t}),Object(n.jsx)("div",{class:"font-light text-sm ",children:r})]}),Object(n.jsx)("div",{class:"text-gray-700 text-base",children:e.children})]})})})},I={headers:{Authorization:"Bearer ".concat("3f1b2e94bd0c9e8b754aeefd1200d09583d51951")}},S=function(){var e=Object(c.useState)([{id:1,content:"some",completed:!1},{id:2,content:"another one",completed:!1}]),t=Object(m.a)(e,2),r=t[0],a=t[1],o=Object(c.useState)(10),s=Object(m.a)(o,2),u=s[0],f=s[1];Object(c.useEffect)(Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("https://api.todoist.com/rest/v1/tasks",I);case 2:t=e.sent,a(t.data);case 4:case"end":return e.stop()}}),e)}))),[]);var x=function(){var e=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===(n=r.findIndex((function(e){return t===e.id})))){e.next=6;break}return e.next=4,D.a.delete("https://api.todoist.com/rest/v1/tasks/".concat(t),I);case 4:r.splice(n,1),a(Object(l.a)(r));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(p.a)(b.a.mark((function e(t){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:-1!==(n=r.findIndex((function(e){return e.id===t})))&&((c=r[n]).completed=!c.completed,r.splice(n,1,c),a(Object(l.a)(r)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(b.a.mark((function e(){var t,n,c,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.filter((function(e){return!0===e.completed})),n=Object(d.a)(t),e.prev=2,n.s();case 4:if((c=n.n()).done){e.next=12;break}return o=c.value,e.next=8,D.a.post("https://api.todoist.com/rest/v1/tasks/".concat(o.id,"/close"),"",I);case 8:r.splice(r.indexOf(o),1),a(Object(l.a)(r));case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),n.e(e.t0);case 17:return e.prev=17,n.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(p.a)(b.a.mark((function e(t){var n,c,o,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title+" | "+O()(Date.now()).format("DD.MM.yyyy - HH:mm"),c={content:n,description:t.description},e.next=4,D.a.post("https://api.todoist.com/rest/v1/tasks",c,I);case 4:o=e.sent,s=o.data,a([].concat(Object(l.a)(r),[Object(i.a)(Object(i.a)({},c),{},{id:s.id})])),f(u+1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(p.a)(b.a.mark((function e(t,n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===(c=r.findIndex((function(e){return e.id===t})))){e.next=6;break}return e.next=4,D.a.post("https://api.todoist.com/rest/v1/tasks/".concat(t),n,I);case 4:r.splice(c,1,n),a(Object(l.a)(r));case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"flex items-center justify-center",children:Object(n.jsxs)(T,{id:"todoCard",title:"My todos",extra:"Count: "+r.length,children:[Object(n.jsx)(C,{onSubmit:y,onRemoveCompleted:g}),Object(n.jsx)(j,{}),function(e){return Object(n.jsx)("ul",{className:"todo-list",children:e.map((function(e){return Object(n.jsx)(N,{item:e,onRemove:x,onCheck:h,onAmend:v},e.id)}))})}(r)]})})},H=(r(86),s.a.Header,s.a.Footer,s.a.Content,function(){return Object(n.jsx)(S,{})});o.a.render(Object(n.jsx)(H,{}),document.getElementById("root"),(function(){var e=document.getElementById("root");e.classList.add("flex"),e.classList.add("items-center"),e.classList.add("justify-center")}))},86:function(e,t,r){}},[[108,1,2]]]);
//# sourceMappingURL=main.dd64f904.chunk.js.map