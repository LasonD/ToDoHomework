(this["webpackJsonpreact-todo-app"]=this["webpackJsonpreact-todo-app"]||[]).push([[0],{108:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c(0),a=c(44),s=c.n(a),o=c(112),i=c(113),l=c(114),d=c(29),u=c(45),b=c(18),p=c(7),j=c.n(p),h=c(13),m=c(28),f=function(){return Object(r.jsx)("hr",{class:"border-0 bg-gray-300 text-gray-500 h-px m-3 my-10"})},x=c(46),O=c(47),v=function(e){return Object(r.jsx)("button",{class:" h-14 w-14 px-5 m-2 text-red-100 transition-colors duration-150 bg-red-400 rounded-lg focus:shadow-outline hover:bg-red-500",type:"danger",onClick:e.onClick,children:Object(r.jsx)(x.a,{icon:O.a})})},g=function(e){return Object(r.jsxs)("div",{class:"form-check",children:[Object(r.jsx)("input",{class:"form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer",type:"checkbox",checked:e.checked,onChange:e.onChange,value:"",id:"flexCheckDefault"}),Object(r.jsx)("label",{class:"form-check-label inline-block text-gray-800 mx-2",htmlFor:"flexCheckDefault",children:Object(r.jsx)("p",{className:e.checked?"completed":"",children:e.children})})]})},k=function(e){var t=e.item,c=e.onCheck,n=e.onRemove,a=function(){var e,c,r=t.content,n=r.match(/\s\|\s\d{2}\.\d{2}\.\d{4}\s-\s\d{2}:\d{2}/);if(n&&n.length>0){var a=n[n.length-1];c=a.substr(3),e=r.replace(a,"")}else c="N/A",e=r;return{title:e,time:c}};return Object(r.jsx)("li",{className:"block justify-between items-center"+t.completed===!0?" completed":"",children:Object(r.jsxs)("div",{className:!0===t.completed?"container-completed":"",children:[Object(r.jsx)("h3",{className:(!0===t.completed?"completed":"")+" m-4 text-gray-800 text-lg",children:a().title}),Object(r.jsxs)("div",{className:"flex justify-between m-4",children:[Object(r.jsx)(g,{className:t.completed?"completed":"",checked:t.completed,onChange:function(){c&&c(t.id)},children:t.description}),Object(r.jsx)(v,{onClick:function(e){e.preventDefault(),n&&n(t.id)}})]}),Object(r.jsx)("time",{className:"font-mono font-light text-gray-300 float-right",children:a().time}),Object(r.jsx)(f,{})]})},t.id)},y=function(e){return Object(r.jsx)("button",{class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:e.onClick,children:e.children})},w=function(e){var t=e.onSubmit,c=e.onRemoveCompleted;return Object(r.jsxs)("form",{className:"todo-form",layout:"column",onSubmit:function(e){var c=e.target.title,r=e.target.description;t&&t({title:c.value,description:r.value}),c.value=null,r.value=null},children:[Object(r.jsx)("div",{className:"mb-6",children:Object(r.jsx)("input",{type:"text",id:"title",name:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Todo title",required:!0})}),Object(r.jsx)("div",{className:"mb-6",children:Object(r.jsx)("input",{type:"text",id:"description",name:"description",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Todo description",required:!0})}),Object(r.jsxs)("div",{className:"mb-6 flex justify-between",children:[Object(r.jsx)(y,{htmlType:"submit",type:"primary",children:"Add"}),Object(r.jsx)(y,{htmlType:"submit",type:"primary",onClick:c,children:"Remove completed"})]})]})},C=c(17),N=c.n(C),D=c(48),R=c.n(D),S=function(e){var t=e.title,c=e.extra;return Object(r.jsx)("div",{class:"p-10 container max-w-2xl",children:Object(r.jsx)("div",{class:"rounded shadow-lg",children:Object(r.jsxs)("div",{class:"px-6 py-4",children:[Object(r.jsxs)("div",{className:"flex justify-between",children:[Object(r.jsx)("div",{class:"font-bold text-xl mb-2",children:t}),Object(r.jsx)("div",{class:"font-light text-sm ",children:c})]}),Object(r.jsx)("div",{class:"text-gray-700 text-base",children:e.children})]})})})},T={headers:{Authorization:"Bearer ".concat("3f1b2e94bd0c9e8b754aeefd1200d09583d51951")}},A=function(){var e=Object(n.useState)([{id:1,content:"some",completed:!1},{id:2,content:"another one",completed:!1}]),t=Object(m.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(10),o=Object(m.a)(s,2),i=o[0],l=o[1];Object(n.useEffect)(Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("https://api.todoist.com/rest/v1/tasks",T);case 2:t=e.sent,a(t.data);case 4:case"end":return e.stop()}}),e)}))),[]);var p=function(){var e=Object(h.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===(r=c.findIndex((function(e){return t===e.id})))){e.next=6;break}return e.next=4,N.a.delete("https://api.todoist.com/rest/v1/tasks/".concat(t),T);case 4:c.splice(r,1),a(Object(b.a)(c));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(h.a)(j.a.mark((function e(t){var r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:-1!==(r=c.findIndex((function(e){return e.id===t})))&&((n=c[r]).completed=!n.completed,c.splice(r,1,n),a(Object(b.a)(c)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(h.a)(j.a.mark((function e(){var t,r,n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=c.filter((function(e){return!0===e.completed})),r=Object(u.a)(t),e.prev=2,r.s();case 4:if((n=r.n()).done){e.next=12;break}return s=n.value,e.next=8,N.a.post("https://api.todoist.com/rest/v1/tasks/".concat(s.id,"/close"),"",T);case 8:c.splice(c.indexOf(s),1),a(Object(b.a)(c));case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(h.a)(j.a.mark((function e(t){var r,n,s,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.title+" | "+R()(Date.now()).format("DD.MM.yyyy - HH:mm"),n={content:r,description:t.description},e.next=4,N.a.post("https://api.todoist.com/rest/v1/tasks",n,T);case 4:s=e.sent,o=s.data,a([].concat(Object(b.a)(c),[Object(d.a)(Object(d.a)({},n),{},{id:o.id})])),l(i+1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"flex items-center justify-center h-screen",children:Object(r.jsxs)(S,{className:"",id:"todoCard",title:"My todos",extra:"Count: "+c.length,children:[Object(r.jsx)(w,{onSubmit:v,onRemoveCompleted:O}),Object(r.jsx)(f,{}),function(e){return Object(r.jsx)("ul",{className:"todo-list",children:e.map((function(e){return Object(r.jsx)(k,{item:e,onRemove:p,onCheck:x},e.id)}))})}(c)]})})},H=(c(86),o.a.Header,o.a.Footer),I=o.a.Content,M=function(){return Object(r.jsxs)(o.a,{children:[Object(r.jsx)(I,{children:Object(r.jsx)(i.a,{children:Object(r.jsx)(l.a,{span:12,offset:6,className:"todo",children:Object(r.jsx)(A,{})})})}),Object(r.jsx)(H,{})]})};s.a.render(Object(r.jsx)(M,{}),document.getElementById("root"))},86:function(e,t,c){}},[[108,1,2]]]);
//# sourceMappingURL=main.c73444be.chunk.js.map